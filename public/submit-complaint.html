<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LGCMS - Submit Complaint</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div id="header"></div>

    <main class="content-section">
        <div class="section-header">
            <h2><i class="fas fa-plus-circle"></i> Submit New Complaint</h2>
            <p>Report local issues to your government representatives</p>
        </div>
        
        <!-- Regular Complaint Form -->
        <form id="complaint-form" class="complaint-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="complaint-category"><i class="fas fa-tag"></i> Category:</label>
                    <select id="complaint-category" required>
                        <option value="">Select Category</option>
                        <option value="sanitation">Sanitation</option>
                        <option value="water">Water Outage</option>
                        <option value="roads">Road Damage</option>
                        <option value="corruption">Corruption</option>
                        <option value="harassment">Harassment</option>
                        <option value="environment">Environmental Issue</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="complaint-location"><i class="fas fa-map-marker-alt"></i> Location:</label>
                    <input type="text" id="complaint-location" required placeholder="Street name, landmark, or GPS coordinates">
                </div>
            </div>
            
            <div class="form-group">
                <label for="complaint-description"><i class="fas fa-align-left"></i> Description:</label>
                <textarea id="complaint-description" rows="5" required placeholder="Describe the issue in detail"></textarea>
            </div>
            
            <div class="form-group">
                <label for="complaint-evidence"><i class="fas fa-camera"></i> Evidence (Photos/Videos/Documents):</label>
                <div class="file-upload">
                    <label for="complaint-evidence" class="upload-btn">
                        <i class="fas fa-cloud-upload-alt"></i> Choose Files (Max 5, 10MB each)
                    </label>
                    <input type="file" id="complaint-evidence" multiple accept="image/*,video/*,application/pdf">
                    <div id="file-preview" class="file-preview"></div>
                </div>
            </div>
            
            <button type="submit" class="submit-btn"><i class="fas fa-paper-plane"></i> Submit Complaint</button>
            <div id="complaint-message" class="message"></div>
            <div id="complaint-error" class="error-message"></div>
        </form>

        <!-- Anonymous Complaint Section -->
        <div class="anonymous-section">
            <div class="anonymous-toggle">
                <button id="show-anonymous-btn" class="anonymous-btn">
                    <i class="fas fa-user-secret"></i> Submit Anonymously
                </button>
            </div>

            <form id="anonymous-complaint-form" class="complaint-form" style="display: none;">
                <div class="form-row">
                    <div class="form-group">
                        <label for="anonymous-category"><i class="fas fa-tag"></i> Category:</label>
                        <select id="anonymous-category" required>
                            <option value="">Select Category</option>
                            <option value="sanitation">Sanitation</option>
                            <option value="water">Water Outage</option>
                            <option value="roads">Road Damage</option>
                            <option value="corruption">Corruption</option>
                            <option value="harassment">Harassment</option>
                            <option value="environment">Environmental Issue</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="anonymous-location"><i class="fas fa-map-marker-alt"></i> Location:</label>
                        <input type="text" id="anonymous-location" required placeholder="Street name, landmark, or GPS coordinates">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="anonymous-description"><i class="fas fa-align-left"></i> Description:</label>
                    <textarea id="anonymous-description" rows="5" required placeholder="Describe the issue in detail"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="anonymous-evidence"><i class="fas fa-camera"></i> Evidence (Photos/Videos/Documents):</label>
                    <div class="file-upload">
                        <label for="anonymous-evidence" class="upload-btn">
                            <i class="fas fa-cloud-upload-alt"></i> Choose Files (Max 5, 10MB each)
                        </label>
                        <input type="file" id="anonymous-evidence" multiple accept="image/*,video/*,application/pdf">
                        <div id="anonymous-file-preview" class="file-preview"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="anonymous-email"><i class="fas fa-envelope"></i> Optional Contact Email:</label>
                    <input type="email" id="anonymous-email" placeholder="If you'd like to receive updates (optional)">
                </div>
                
                <button type="submit" class="submit-btn"><i class="fas fa-user-secret"></i> Submit Anonymously</button>
                <div id="anonymous-message" class="message"></div>
                <div id="anonymous-error" class="error-message"></div>
            </form>
        </div>
    </main>

    <div id="footer"></div>

    <script src="/js/shared.js"></script>
    <script src="/js/complaints.js"></script>
    <script>
        // Load header and footer
        fetch('/partials/header.html')
            .then(response => response.text())
            .then(html => document.getElementById('header').innerHTML = html);
            
        fetch('/partials/footer.html')
            .then(response => response.text())
            .then(html => document.getElementById('footer').innerHTML = html);
    </script>
</body>
</html>